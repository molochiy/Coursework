(function (angular) {

  angular
      .module("appModule")
      .controller("arppController", arppController);

  arppController.$inject = ['$scope', '$location', 'PROBLEM_TYPE_IDS', 'problemService', 'notificationService'];

  function arppController($scope, $location, PROBLEM_TYPE_IDS, problemService, notificationService) {
    var vm = this;

    vm.variables = {
      problemsHistory: [],
      problemInputData: {},
      selectedProblemId: -1
    }

    vm.fucntions = {
      swapProblemType,
      isFirstProblemSelected,
      swapGraph,
      solve,
      showResult
    }

    function swapProblemType() {
      vm.variables.problemInputData.typeId = vm.fucntions.isFirstProblemSelected() ? PROBLEM_TYPE_IDS.PROBLEM12 : PROBLEM_TYPE_IDS.PROBLEM11;
      getHistory();
    }

    function isFirstProblemSelected() {
      return vm.variables.problemInputData.typeId === PROBLEM_TYPE_IDS.PROBLEM11;
    }

    function swapGraph() {
      vm.variables.isFirstGraphShowing = !vm.variables.isFirstGraphShowing;
    }

    function showResult() {
      if (vm.variables.selectedProblemId !== -1) {
        console.log(vm.variables.selectedProblemId);

        vm.variables.result = {
          plotData1: [
            [
              0.000221, 0.000293, 0.000276, 0.000174, 0.000050, 0.000001, 0.000108, 0.000379, 0.000732, 0.001019,
              0.001096, 0.000901, 0.000512, 0.000129, 0.000008, 0.000342, 0.001164, 0.002300, 0.003421, 0.004161,
              0.004259, 0.003670, 0.002588, 0.001378, 0.000429, 0.000011, 0.000176, 0.000757, 0.001448, 0.001941,
              0.002046, 0.001749, 0.001196, 0.000609, 0.000182, 0.000006, 0.000051, 0.000203, 0.000332, 0.000357, 0, 0,
            ],
            [
              0.000277, 0.000238, 0.000131, 0.000025, 0.000009, 0.000137, 0.000388, 0.000663, 0.000826, 0.000778,
              0.000523, 0.000191, 0.000002, 0.000172, 0.000802, 0.001809, 0.002930, 0.003804, 0.004120, 0.003743,
              0.002787, 0.001579, 0.000541, 0.000025, 0.000178, 0.000891, 0.001853, 0.002677, 0.003059, 0.002885,
              0.002253, 0.001412, 0.000646, 0.000157, 0.000000, 0.000093, 0.000277, 0.000405, 0.000400, 0.000281, 0, 0,
            ],
            [
              0.000184, 0.000081, 0.000006, 0.000027, 0.000167, 0.000380, 0.000564, 0.000613, 0.000485, 0.000238,
              0.000029, 0.000051, 0.000438, 0.001185, 0.002117, 0.002940, 0.003353, 0.003180, 0.002454, 0.001432,
              0.000498, 0.000019, 0.000200, 0.000994, 0.002123, 0.003185, 0.003812, 0.003806, 0.003201, 0.002229,
              0.001216, 0.000443, 0.000054, 0.000023, 0.000199, 0.000397, 0.000480, 0.000413, 0.000250, 0.000087, 0, 0,
            ],
            [
              0.000038, 0.000000, 0.000063, 0.000214, 0.000386, 0.000483, 0.000440, 0.000268, 0.000071, 0.000005,
              0.000208, 0.000714, 0.001417, 0.002088, 0.002469, 0.002384, 0.001834, 0.001026, 0.000299, 0.000000,
              0.000334, 0.001269, 0.002540, 0.003738, 0.004469, 0.004501, 0.003847, 0.002743, 0.001548, 0.000598,
              0.000088, 0.000019, 0.000236, 0.000515, 0.000673, 0.000634, 0.000440, 0.000204, 0.000039, 0.000003, 0, 0,
            ],
            [
              0.000015, 0.000119, 0.000282, 0.000417, 0.000440, 0.000326, 0.000137, 0.000006, 0.000074, 0.000408,
              0.000949, 0.001513, 0.001864, 0.001824, 0.001378, 0.000707, 0.000143, 0.000030, 0.000580, 0.001755,
              0.003261, 0.004640, 0.005447, 0.005414, 0.004559, 0.003175, 0.001706, 0.000578, 0.000041, 0.000097,
              0.000534, 0.001037, 0.001336, 0.001303, 0.000985, 0.000547, 0.000181, 0.000009, 0.000041, 0.000190, 0, 0,
            ],
            [
              0.000185, 0.000358, 0.000461, 0.000425, 0.000260, 0.000070, 0.000003, 0.000176, 0.000589, 0.001108,
              0.001505, 0.001573, 0.001241, 0.000650, 0.000123, 0.000045, 0.000689, 0.002064, 0.003871, 0.005585,
              0.006647, 0.006685, 0.005668, 0.003931, 0.002049, 0.000613, 0.000011, 0.000290, 0.001170, 0.002181,
              0.002866, 0.002959, 0.002469, 0.001633, 0.000785, 0.000203, 0.000001, 0.000112, 0.000353, 0.000533, 0, 0,
            ],
            [
              0.000414, 0.000488, 0.000407, 0.000214, 0.000035, 0.000023, 0.000262, 0.000701, 0.001160, 0.001402,
              0.001272, 0.000802, 0.000246, 0.000001, 0.000432, 0.001683, 0.003564, 0.005570, 0.007054, 0.007482,
              0.006660, 0.004840, 0.002645, 0.000836, 0.000018, 0.000412, 0.001778, 0.003527, 0.004966, 0.005570,
              0.005167, 0.003968, 0.002437, 0.001080, 0.000241, 0.000000, 0.000190, 0.000521, 0.000733, 0.000707, 0, 0,
            ],
            [
              0.000471, 0.000359, 0.000161, 0.000013, 0.000050, 0.000320, 0.000735, 0.001099, 0.001206, 0.000964,
              0.000482, 0.000065, 0.000089, 0.000826, 0.002274, 0.004099, 0.005731, 0.006572, 0.006261, 0.004856,
              0.002848, 0.000997, 0.000040, 0.000397, 0.001997, 0.004297, 0.006497, 0.007848, 0.007924, 0.006766,
              0.004818, 0.002726, 0.001075, 0.000178, 0.000016, 0.000311, 0.000694, 0.000885, 0.000789, 0.000494, 0, 0,
            ],
            [
              0.000273, 0.000093, 0.000000, 0.000094, 0.000374, 0.000724, 0.000963, 0.000942, 0.000647, 0.000239,
              0.000003, 0.000213, 0.000983, 0.002170, 0.003392, 0.004174, 0.004156, 0.003288, 0.001895, 0.000581,
              0.000001, 0.000585, 0.002342, 0.004820, 0.007267, 0.008907, 0.009229, 0.008170, 0.006116, 0.003726,
              0.001674, 0.000402, 0.000000, 0.000236, 0.000709, 0.001052, 0.001072, 0.000795, 0.000400, 0.000094, 0, 0,
            ],
            [
              0.000028, 0.000016, 0.000183, 0.000468, 0.000728, 0.000816, 0.000665, 0.000351, 0.000065, 0.000025,
              0.000349, 0.000971, 0.001641, 0.002031, 0.001913, 0.001298, 0.000495, 0.000012, 0.000350, 0.001765,
              0.004103, 0.006812, 0.009109, 0.010275, 0.009930, 0.008182, 0.005591, 0.002946, 0.000969, 0.000059,
              0.000186, 0.000953, 0.001811, 0.002297, 0.002208, 0.001641, 0.000888, 0.000277, 0.000009, 0.000089, 0, 0,
            ],
            [
              0.000098, 0.000360, 0.000653, 0.000807, 0.000724, 0.000442, 0.000131, 0.000000, 0.000169, 0.000575,
              0.000987, 0.001128, 0.000860, 0.000333, 0.000001, 0.000463, 0.002186, 0.005218, 0.009052, 0.012717,
              0.015098, 0.015361, 0.013319, 0.009557, 0.005251, 0.001750, 0.000077, 0.000556, 0.002722, 0.005540,
              0.007833, 0.008740, 0.008012, 0.006029, 0.003577, 0.001478, 0.000264, 0.000018, 0.000427, 0.001002, 0, 0,
            ],
            [
              0.000660, 0.000978, 0.001014, 0.000735, 0.000309, 0.000022, 0.000092, 0.000512, 0.001010, 0.001209,
              0.000892, 0.000267, 0.000030, 0.001153, 0.004431, 0.009978, 0.016936, 0.023572, 0.027824, 0.028090,
              0.023969, 0.016583, 0.008323, 0.002045, 0.000028, 0.003099, 0.010296, 0.019205, 0.026854, 0.030791,
              0.029922, 0.024792, 0.017231, 0.009563, 0.003717, 0.000617, 0.000048, 0.000986, 0.002192, 0.002764, 0, 0,
            ],
            [
              0.001464, 0.001391, 0.000882, 0.000271, 0.000000, 0.000325, 0.001090, 0.001768, 0.001788, 0.001016,
              0.000105, 0.000468, 0.003748, 0.010960, 0.021687, 0.033770, 0.043777, 0.048193, 0.044912, 0.034394,
              0.019922, 0.006717, 0.000157, 0.003753, 0.017697, 0.038592, 0.060534, 0.077122, 0.083655, 0.078642,
              0.064098, 0.044567, 0.025342, 0.010632, 0.002362, 0.000001, 0.001319, 0.003634, 0.004952, 0.004562, 0, 0,
            ],
            [
              0.001943, 0.001194, 0.000329, 0.000007, 0.000588, 0.001808, 0.002844, 0.002831, 0.001590, 0.000162,
              0.000726, 0.005759, 0.016699, 0.032721, 0.050324, 0.064148, 0.068924, 0.061846, 0.044354, 0.022404,
              0.004873, 0.000527, 0.014650, 0.046680, 0.089888, 0.133323, 0.165369, 0.177570, 0.167301, 0.138310,
              0.099037, 0.059470, 0.027829, 0.008305, 0.000560, 0.000911, 0.004477, 0.007276, 0.007447, 0.005298, 0, 0,
            ],
            [
              0.001669, 0.000499, 0.000003, 0.000739, 0.002440, 0.004030, 0.004261, 0.002701, 0.000513, 0.000455,
              0.005836, 0.018746, 0.038356, 0.060247, 0.077424, 0.082916, 0.073056, 0.050031, 0.022361, 0.002734,
              0.003721, 0.032871, 0.089152, 0.162272, 0.235379, 0.290260, 0.313165, 0.299107, 0.253076, 0.187857,
              0.119415, 0.061718, 0.022893, 0.003941, 0.000103, 0.003933, 0.008626, 0.010244, 0.008234, 0.004398, 0, 0,
            ],
            [
              0.000789, 0.000004, 0.000704, 0.002755, 0.004967, 0.005737, 0.004216, 0.001348, 0.000061, 0.004216,
              0.016586, 0.036744, 0.060077, 0.078751, 0.084692, 0.073555, 0.047973, 0.018401, 0.000658, 0.010675,
              0.058228, 0.142128, 0.248964, 0.356211, 0.438831, 0.477040, 0.462435, 0.400252, 0.307080, 0.205031,
              0.114700, 0.049471, 0.013030, 0.000499, 0.002207, 0.008228, 0.011847, 0.010859, 0.006705, 0.002343, 0, 0,
            ],
            [
              0.000055, 0.000527, 0.002672, 0.005360, 0.006792, 0.005700, 0.002575, 0.000080, 0.002160, 0.012000,
              0.029734, 0.051178, 0.068634, 0.073915, 0.062613, 0.037777, 0.011052, 0.000169, 0.023150, 0.091157,
              0.202738, 0.341997, 0.481845, 0.591521, 0.645844, 0.632913, 0.557462, 0.438788, 0.304165, 0.180323,
              0.086081, 0.028550, 0.003721, 0.000546, 0.006417, 0.011778, 0.012338, 0.008609, 0.003654, 0.000467, 0, 0,
            ],
            [
              0.000318, 0.002302, 0.005174, 0.007134, 0.006655, 0.003755, 0.000578, 0.000724, 0.007377, 0.021063,
              0.038311, 0.052277, 0.055616, 0.044674, 0.023193, 0.003509, 0.004028, 0.043265, 0.132350, 0.268885,
              0.434863, 0.599994, 0.729728, 0.795356, 0.782662, 0.696023, 0.556568, 0.395206, 0.243193, 0.123614,
              0.046577, 0.009253, 0.000000, 0.004395, 0.010655, 0.012604, 0.009662, 0.004643, 0.000877, 0.000092, 0, 0,
            ],
            [
              0.001850, 0.004624, 0.006826, 0.006868, 0.004445, 0.001181, 0.000123, 0.004122, 0.013805, 0.026337,
              0.036001, 0.036848, 0.026602, 0.010052, 0.000016, 0.014708, 0.071768, 0.180870, 0.337731, 0.522232,
              0.701993, 0.840679, 0.908403, 0.890633, 0.792436, 0.636583, 0.456309, 0.285424, 0.149278, 0.059507,
              0.013838, 0.000245, 0.003253, 0.009782, 0.012508, 0.010121, 0.005188, 0.001156, 0.000031, 0.001585, 0, 0,
            ],
            [
              0.004011, 0.006195, 0.006519, 0.004547, 0.001529, 0.000002, 0.002364, 0.009119, 0.017845, 0.023839,
              0.022618, 0.013467, 0.002375, 0.002573, 0.031642, 0.105571, 0.231662, 0.403055, 0.597427, 0.781037,
              0.917294, 0.977141, 0.947694, 0.836062, 0.667001, 0.475302, 0.295685, 0.153738, 0.060778, 0.013866,
              0.000194, 0.003597, 0.010510, 0.013374, 0.010859, 0.005642, 0.001322, 0.000017, 0.001536, 0.004068, 0, 0,
            ],
            [
              0.005589, 0.005994, 0.004307, 0.001584, 0.000008, 0.001602, 0.006678, 0.013023, 0.016649, 0.014230,
              0.006363, 0.000067, 0.008875, 0.049627, 0.136528, 0.274374, 0.453687, 0.650125, 0.829131, 0.954772, 1,
              0.954772, 0.829131, 0.650125, 0.453687, 0.274374, 0.136528, 0.049627, 0.008875, 0.000067, 0.006363,
              0.014230, 0.016649, 0.013023, 0.006678, 0.001602, 0.000008, 0.001584, 0.004307, 0.005994, 0, 0,
            ],
            [
              0.005611, 0.004068, 0.001536, 0.000017, 0.001322, 0.005642, 0.010859, 0.013374, 0.010510, 0.003597,
              0.000194, 0.013866, 0.060778, 0.153738, 0.295685, 0.475302, 0.667001, 0.836062, 0.947694, 0.977141,
              0.917294, 0.781037, 0.597427, 0.403055, 0.231662, 0.105571, 0.031642, 0.002573, 0.002375, 0.013467,
              0.022618, 0.023839, 0.017845, 0.009119, 0.002364, 0.000002, 0.001529, 0.004547, 0.006519, 0.006195, 0, 0,
            ],
            [
              0.004042, 0.001585, 0.000031, 0.001156, 0.005188, 0.010121, 0.012508, 0.009782, 0.003253, 0.000245,
              0.013838, 0.059507, 0.149278, 0.285424, 0.456309, 0.636583, 0.792436, 0.890633, 0.908403, 0.840679,
              0.701993, 0.522232, 0.337731, 0.180870, 0.071768, 0.014708, 0.000016, 0.010052, 0.026602, 0.036848,
              0.036001, 0.026337, 0.013805, 0.004122, 0.000123, 0.001181, 0.004445, 0.006868, 0.006826, 0.004624, 0, 0,
            ],
            [
              0.001831, 0.000092, 0.000877, 0.004643, 0.009662, 0.012604, 0.010655, 0.004395, 0.000000, 0.009253,
              0.046577, 0.123614, 0.243193, 0.395206, 0.556568, 0.696023, 0.782662, 0.795356, 0.729728, 0.599994,
              0.434863, 0.268885, 0.132350, 0.043265, 0.004028, 0.003509, 0.023193, 0.044674, 0.055616, 0.052277,
              0.038311, 0.021063, 0.007377, 0.000724, 0.000578, 0.003755, 0.006655, 0.007134, 0.005174, 0.002302, 0, 0,
            ],
            [
              0.000268, 0.000467, 0.003654, 0.008609, 0.012338, 0.011778, 0.006417, 0.000546, 0.003721, 0.028550,
              0.086081, 0.180323, 0.304165, 0.438788, 0.557462, 0.632913, 0.645844, 0.591521, 0.481845, 0.341997,
              0.202738, 0.091157, 0.023150, 0.000169, 0.011052, 0.037777, 0.062613, 0.073915, 0.068634, 0.051178,
              0.029734, 0.012000, 0.002160, 0.000080, 0.002575, 0.005700, 0.006792, 0.005360, 0.002672, 0.000527, 0, 0,
            ],
            [
              0.000117, 0.002343, 0.006705, 0.010859, 0.011847, 0.008228, 0.002207, 0.000499, 0.013030, 0.049471,
              0.114700, 0.205031, 0.307080, 0.400252, 0.462435, 0.477040, 0.438831, 0.356211, 0.248964, 0.142128,
              0.058228, 0.010675, 0.000658, 0.018401, 0.047973, 0.073555, 0.084692, 0.078751, 0.060077, 0.036744,
              0.016586, 0.004216, 0.000061, 0.001348, 0.004216, 0.005737, 0.004967, 0.002755, 0.000704, 0.000004, 0, 0,
            ],
            [
              0.001149, 0.004398, 0.008234, 0.010244, 0.008626, 0.003933, 0.000103, 0.003941, 0.022893, 0.061718,
              0.119415, 0.187857, 0.253076, 0.299107, 0.313165, 0.290260, 0.235379, 0.162272, 0.089152, 0.032871,
              0.003721, 0.002734, 0.022361, 0.050031, 0.073056, 0.082916, 0.077424, 0.060247, 0.038356, 0.018746,
              0.005836, 0.000455, 0.000513, 0.002701, 0.004261, 0.004030, 0.002440, 0.000739, 0.000003, 0.000499, 0, 0,
            ],
            [
              0.002408, 0.005298, 0.007447, 0.007276, 0.004477, 0.000911, 0.000560, 0.008305, 0.027829, 0.059470,
              0.099037, 0.138310, 0.167301, 0.177570, 0.165369, 0.133323, 0.089888, 0.046680, 0.014650, 0.000527,
              0.004873, 0.022404, 0.044354, 0.061846, 0.068924, 0.064148, 0.050324, 0.032721, 0.016699, 0.005759,
              0.000726, 0.000162, 0.001590, 0.002831, 0.002844, 0.001808, 0.000588, 0.000007, 0.000329, 0.001194, 0, 0,
            ],
            [
              0.002938, 0.004562, 0.004952, 0.003634, 0.001319, 0.000001, 0.002362, 0.010632, 0.025342, 0.044567,
              0.064098, 0.078642, 0.083655, 0.077122, 0.060534, 0.038592, 0.017697, 0.003753, 0.000157, 0.006717,
              0.019922, 0.034394, 0.044912, 0.048193, 0.043777, 0.033770, 0.021687, 0.010960, 0.003748, 0.000468,
              0.000105, 0.001016, 0.001788, 0.001768, 0.001090, 0.000325, 0.000000, 0.000271, 0.000882, 0.001391, 0, 0,
            ],
            [
              0.002431, 0.002764, 0.002192, 0.000986, 0.000048, 0.000617, 0.003717, 0.009563, 0.017231, 0.024792,
              0.029922, 0.030791, 0.026854, 0.019205, 0.010296, 0.003099, 0.000028, 0.002045, 0.008323, 0.016583,
              0.023969, 0.028090, 0.027824, 0.023572, 0.016936, 0.009978, 0.004431, 0.001153, 0.000030, 0.000267,
              0.000892, 0.001209, 0.001010, 0.000512, 0.000092, 0.000022, 0.000309, 0.000735, 0.001014, 0.000978, 0, 0,
            ],
            [
              0.001324, 0.001002, 0.000427, 0.000018, 0.000264, 0.001478, 0.003577, 0.006029, 0.008012, 0.008740,
              0.007833, 0.005540, 0.002722, 0.000556, 0.000077, 0.001750, 0.005251, 0.009557, 0.013319, 0.015361,
              0.015098, 0.012717, 0.009052, 0.005218, 0.002186, 0.000463, 0.000001, 0.000333, 0.000860, 0.001128,
              0.000987, 0.000575, 0.000169, 0.000000, 0.000131, 0.000442, 0.000724, 0.000807, 0.000653, 0.000360, 0, 0,
            ],
            [
              0.000359, 0.000089, 0.000009, 0.000277, 0.000888, 0.001641, 0.002208, 0.002297, 0.001811, 0.000953,
              0.000186, 0.000059, 0.000969, 0.002946, 0.005591, 0.008182, 0.009930, 0.010275, 0.009109, 0.006812,
              0.004103, 0.001765, 0.000350, 0.000012, 0.000495, 0.001298, 0.001913, 0.002031, 0.001641, 0.000971,
              0.000349, 0.000025, 0.000065, 0.000351, 0.000665, 0.000816, 0.000728, 0.000468, 0.000183, 0.000016, 0, 0,
            ],
            [
              0.000001, 0.000094, 0.000400, 0.000795, 0.001072, 0.001052, 0.000709, 0.000236, 0.000000, 0.000402,
              0.001674, 0.003726, 0.006116, 0.008170, 0.009229, 0.008907, 0.007267, 0.004820, 0.002342, 0.000585,
              0.000001, 0.000581, 0.001895, 0.003288, 0.004156, 0.004174, 0.003392, 0.002170, 0.000983, 0.000213,
              0.000003, 0.000239, 0.000647, 0.000942, 0.000963, 0.000724, 0.000374, 0.000094, 0.000000, 0.000093, 0, 0,
            ],
            [
              0.000182, 0.000494, 0.000789, 0.000885, 0.000694, 0.000311, 0.000016, 0.000178, 0.001075, 0.002726,
              0.004818, 0.006766, 0.007924, 0.007848, 0.006497, 0.004297, 0.001997, 0.000397, 0.000040, 0.000997,
              0.002848, 0.004856, 0.006261, 0.006572, 0.005731, 0.004099, 0.002274, 0.000826, 0.000089, 0.000065,
              0.000482, 0.000964, 0.001206, 0.001099, 0.000735, 0.000320, 0.000050, 0.000013, 0.000161, 0.000359, 0, 0,
            ],
            [
              0.000483, 0.000707, 0.000733, 0.000521, 0.000190, 0.000000, 0.000241, 0.001080, 0.002437, 0.003968,
              0.005167, 0.005570, 0.004966, 0.003527, 0.001778, 0.000412, 0.000018, 0.000836, 0.002645, 0.004840,
              0.006660, 0.007482, 0.007054, 0.005570, 0.003564, 0.001683, 0.000432, 0.000001, 0.000246, 0.000802,
              0.001272, 0.001402, 0.001160, 0.000701, 0.000262, 0.000023, 0.000035, 0.000214, 0.000407, 0.000488, 0, 0,
            ],
            [
              0.000545, 0.000533, 0.000353, 0.000112, 0.000001, 0.000203, 0.000785, 0.001633, 0.002469, 0.002959,
              0.002866, 0.002181, 0.001170, 0.000290, 0.000011, 0.000613, 0.002049, 0.003931, 0.005668, 0.006685,
              0.006647, 0.005585, 0.003871, 0.002064, 0.000689, 0.000045, 0.000123, 0.000650, 0.001241, 0.001573,
              0.001505, 0.001108, 0.000589, 0.000176, 0.000003, 0.000070, 0.000260, 0.000425, 0.000461, 0.000358, 0, 0,
            ],
            [
              0.000333, 0.000190, 0.000041, 0.000009, 0.000181, 0.000547, 0.000985, 0.001303, 0.001336, 0.001037,
              0.000534, 0.000097, 0.000041, 0.000578, 0.001706, 0.003175, 0.004559, 0.005414, 0.005447, 0.004640,
              0.003261, 0.001755, 0.000580, 0.000030, 0.000143, 0.000707, 0.001378, 0.001824, 0.001864, 0.001513,
              0.000949, 0.000408, 0.000074, 0.000006, 0.000137, 0.000326, 0.000440, 0.000417, 0.000282, 0.000119, 0, 0,
            ],
            [
              0.000078, 0.000003, 0.000039, 0.000204, 0.000440, 0.000634, 0.000673, 0.000515, 0.000236, 0.000019,
              0.000088, 0.000598, 0.001548, 0.002743, 0.003847, 0.004501, 0.004469, 0.003738, 0.002540, 0.001269,
              0.000334, 0.000000, 0.000299, 0.001026, 0.001834, 0.002384, 0.002469, 0.002088, 0.001417, 0.000714,
              0.000208, 0.000005, 0.000071, 0.000268, 0.000440, 0.000483, 0.000386, 0.000214, 0.000063, 0.000000, 0, 0,
            ],
            [
              0.000004, 0.000087, 0.000250, 0.000413, 0.000480, 0.000397, 0.000199, 0.000023, 0.000054, 0.000443,
              0.001216, 0.002229, 0.003201, 0.003806, 0.003812, 0.003185, 0.002123, 0.000994, 0.000200, 0.000019,
              0.000498, 0.001432, 0.002454, 0.003180, 0.003353, 0.002940, 0.002117, 0.001185, 0.000438, 0.000051,
              0.000029, 0.000238, 0.000485, 0.000613, 0.000564, 0.000380, 0.000167, 0.000027, 0.000006, 0.000081, 0, 0,
            ],
            [
              0.000126, 0.000281, 0.000400, 0.000405, 0.000277, 0.000093, 0.000000, 0.000157, 0.000646, 0.001412,
              0.002253, 0.002885, 0.003059, 0.002677, 0.001853, 0.000891, 0.000178, 0.000025, 0.000541, 0.001579,
              0.002787, 0.003743, 0.004120, 0.003804, 0.002930, 0.001809, 0.000802, 0.000172, 0.000002, 0.000191,
              0.000523, 0.000778, 0.000826, 0.000663, 0.000388, 0.000137, 0.000009, 0.000025, 0.000131, 0.000238, 0, 0,
            ],
            [
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0
            ],
            [
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0
            ]
          ],
          plotData2: []
        }
        vm.variables.plotInfo = {
          plotData: vm.variables.result.plotData1,
          plotType: 1
        }
      }
    }
    function solve() {
      problemService.addProblem(vm.variables.problemInputData)
      .then(response => {
        notificationService.displaySuccess('Problem is added.');
        console.log(response);
        vm.variables.problemsHistory.push(response.data);
      })
      .catch(response => {
        onError(response);
      });
    }

    function getHistory() {
      problemService.getProblemHistory(vm.variables.problemInputData.typeId)
      .then(response => {
        console.log(response);
        $scope.$applyAsync(() => {
          while (vm.variables.problemsHistory.length > 0) {
            vm.variables.problemsHistory.pop();
          }
          vm.variables.problemsHistory.push.apply(vm.variables.problemsHistory, response.data);
        });
      })
      .catch(response => {
        onError(response);
      });
    }

    function onError(response) {
      console.log(response);
      notificationService.displayError(response.data.message);
    }

    function init() {
      if (!$scope.$parent.rootCtrl.userData.isUserLoggedIn) {
        $location.path('/');
      }

      vm.variables.isFirstGraphShowing = true;
      vm.variables.problemInputData.typeId = PROBLEM_TYPE_IDS.PROBLEM11;
      getHistory();
      $scope.$applyAsync(() => {
        vm.variables.plotInfo = {
          plotData: null,
          plotType: null
        }
      });
    }

    init();
  }
})(angular);